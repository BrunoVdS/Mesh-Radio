# ============================================================================ #

###                       NEW NODE INSTALL SCRIPT                            ###

###                                                                          ###
###          Version 1.0                                                     ###
###                                                                          ###
###    CONFIGURATION FILE - Example                                          ###
###                                                                          ###

# ============================================================================ #


# ===== Mesh configuration =====
MESH_ID="MESHNODE"
IFACE="wlan1"
BATIF="bat0"
IP_CIDR="192.168.0.2/24"
COUNTRY="BE"
FREQ="5180"
BANDWIDTH="HT20"
MTU="1532"
BSSID="02:12:34:56:78:9A"

# ===== Access Point configuration =====
AP_INTERFACE="wlan0"
AP_SSID="Node1"
AP_PSK="SuperSecret123"
AP_CHANNEL="6"
AP_COUNTRY="BE"
AP_IP_CIDR="10.0.0.1/24"
AP_DHCP_RANGE_START="10.0.0.100"
AP_DHCP_RANGE_END="10.0.0.200"
AP_DHCP_LEASE="12h"

# ===== Topology extensions =====
# Space-delimited list of wired interfaces to add to the batman-adv mesh.
# Example: BAT_WIRED_INTERFACES="eth0 eth1"
BAT_WIRED_INTERFACES=""

# Bridge the access point directly onto the mesh backbone. When enabled, the
# access point clients, batman peers, and any wired interfaces that are also
# bridged will share the same broadcast domain.
ENABLE_AP_BRIDGE="no"
BRIDGE_NAME="br-mesh"
# Assign an address to the bridge when bridging is enabled. Leaving this empty
# inherits the mesh address specified in IP_CIDR.
BRIDGE_IP_CIDR=""
# Enable ("on") or disable ("off") Spanning Tree Protocol on the bridge.
BRIDGE_STP="on"

# When bridging is disabled, traffic from the access point can still reach the
# mesh or other uplinks by routing/NAT. Set AP_ROUTING_MODE to one of:
#   disabled - no routing changes are applied.
#   route    - only forwarding is enabled between the AP and listed peers.
#   nat      - forwarding is enabled and a MASQUERADE rule is installed on the
#              interface specified in AP_ROUTING_NAT_EGRESS.
AP_ROUTING_MODE="disabled"
# Space-delimited list of interfaces that should exchange routed traffic with
# the access point network (for example: "bat0 eth0").
AP_ROUTING_PEERS="bat0"
# Interface used for NAT egress when AP_ROUTING_MODE=nat.
AP_ROUTING_NAT_EGRESS=""
